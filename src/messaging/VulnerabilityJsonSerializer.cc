#include "messaging/VulnerabilityJsonSerializer.hh"

#include "bridge/Partnership.hh"
#include "bridge/Vulnerability.hh"
#include "messaging/JsonSerializerUtility.hh"

using nlohmann::json;

namespace Bridge {

void to_json(json& j, const Vulnerability& vulnerability)
{
    j.emplace(
        Partnerships::NORTH_SOUTH_VALUE, vulnerability.northSouthVulnerable);
    j.emplace(Partnerships::EAST_WEST_VALUE, vulnerability.eastWestVulnerable);
}

void from_json(const nlohmann::json& j, Vulnerability& vulnerability)
{
    vulnerability.northSouthVulnerable =
        j.at(std::string {Partnerships::NORTH_SOUTH_VALUE});
    vulnerability.eastWestVulnerable =
        j.at(std::string {Partnerships::EAST_WEST_VALUE});
}

}
