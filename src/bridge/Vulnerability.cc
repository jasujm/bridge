#include "bridge/Partnership.hh"
#include "bridge/Vulnerability.hh"
#include "IoUtility.hh"

#include <map>
#include <string>

namespace Bridge {

bool isVulnerable(
    const Vulnerability vulnerability, const Partnership partnership)
{
    return vulnerability == Vulnerability::BOTH ||
        (vulnerability == Vulnerability::NORTH_SOUTH &&
         partnership == Partnership::NORTH_SOUTH) ||
        (vulnerability == Vulnerability::EAST_WEST &&
         partnership == Partnership::EAST_WEST);
}

std::ostream& operator<<(std::ostream& os, const Vulnerability vulnerability)
{
    static const auto NAMES = std::map<Vulnerability, std::string>{
        { Vulnerability::NEITHER,     "neither"     },
        { Vulnerability::NORTH_SOUTH, "north-south" },
        { Vulnerability::EAST_WEST,   "east-west"   },
        { Vulnerability::BOTH,        "both"        },
    };
    return outputEnum(os, vulnerability, NAMES);
}

}
