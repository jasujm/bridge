#include "bridge/Partnership.hh"
#include "bridge/Vulnerability.hh"

#include <gtest/gtest.h>

using Bridge::Vulnerability;

namespace Partnerships = Bridge::Partnerships;

TEST(VulnerabilityTest, testNeitherVulnerable)
{
    constexpr auto vulnerability = Vulnerability {false, false};
    EXPECT_FALSE(isVulnerable(vulnerability, Partnerships::NORTH_SOUTH));
    EXPECT_FALSE(isVulnerable(vulnerability, Partnerships::EAST_WEST));
}

TEST(VulnerabilityTest, testNorthSouthVulnerable)
{
    constexpr auto vulnerability = Vulnerability {true, false};
    EXPECT_TRUE(isVulnerable(vulnerability, Partnerships::NORTH_SOUTH));
    EXPECT_FALSE(isVulnerable(vulnerability, Partnerships::EAST_WEST));
}

TEST(VulnerabilityTest, testEastWestVulnerable)
{
    constexpr auto vulnerability = Vulnerability {false, true};
    EXPECT_FALSE(isVulnerable(vulnerability, Partnerships::NORTH_SOUTH));
    EXPECT_TRUE(isVulnerable(vulnerability, Partnerships::EAST_WEST));
}

TEST(VulnerabilityTest, testBothVulnerable)
{
    constexpr auto vulnerability = Vulnerability {true, true};
    EXPECT_TRUE(isVulnerable(vulnerability, Partnerships::NORTH_SOUTH));
    EXPECT_TRUE(isVulnerable(vulnerability, Partnerships::EAST_WEST));
}
